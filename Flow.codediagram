{"id":-1,"name":"Onboarding diagram","userId":-1,"createdAt":"","updatedAt":"","content":{"items":[{"uid":"RCI-xoY4rJ","position":{"x":250,"y":690},"sizes":{"width":120,"height":95},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Auth0"}]}]},"nodeType":"block"},{"uid":"18JQxYSodo","position":{"x":590,"y":690},"sizes":{"width":170,"height":95},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Frontend"}]}]},"nodeType":"block"},{"uid":"dysBL4uUFz","position":{"x":1110,"y":690},"sizes":{"width":150,"height":95},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Backend"}]}]},"nodeType":"block"},{"uid":"8thHHE1G5c","position":{"x":1780,"y":710},"sizes":{"width":150,"height":95},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Grok API"}]}]},"nodeType":"block"},{"uid":"T2FBmCrrG5","position":{"x":1620,"y":430},"sizes":{"width":260,"height":95},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Database"}]}]},"nodeType":"block"},{"uid":"LiBUI9OClj","position":{"x":1620,"y":530},"sizes":{"width":260,"height":107.5},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Client Encrypted Chat History"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Client Encrypted Grok Key"}]}]}]}]},"nodeType":"block"},{"uid":"eGB7dg63f_","position":{"x":1780,"y":810},"sizes":{"width":270,"height":107.5},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Decrypted Grok Key"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Relevant Chat Request"}]}]}]}]},"nodeType":"block"},{"uid":"3BNbEBk9D9","position":{"x":590,"y":790},"sizes":{"width":340,"height":320.5},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Encrypts a Grok Key with a Encryption Token"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Stays mostly client side, generated from the encryption_token."}]}]}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Encrypts a Chat Encryption Token with a Salt"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Chat Key will never be sent to the backend."}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Chat Encryption Token is only for encrypting/decrypting chat history locally."}]}]}]}]}]}]},"nodeType":"block"},{"uid":"0LGJUUmvZy","position":{"x":1110,"y":790},"sizes":{"width":400,"height":497.5},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"SaveGrokKey"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Authenticates user."}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Saves user Grok Key under user's account folder."}]},{"type":"paragraph"}]}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"SendChat"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Proxies unencrypted chat requests to/from the Grok API."}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Queries the Grok Key each time a request is made."}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Decrypts the Grok Key for the single request, using the Grok Encryption Key passed from the client."},{"type":"hardBreak"}]}]}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"GetMostRecentChatPage"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Returns most recent chat page."},{"type":"hardBreak"}]}]}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"SaveChatPage"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Saves encrypted chat page."}]}]}]}]},"nodeType":"block"}],"configs":{"centerX":-300.356347540161,"centerY":-493.3778128434283,"zoomLevel":0.817264811197917},"arrowData":{"arrowsMap":{"arrow-point-bI0wBh3Ufk-bottom-point-PSPLIYKa9J-top":{"to":"point-PSPLIYKa9J-top","from":"point-bI0wBh3Ufk-bottom","label":"Normal Box","direction":"ft","selectable":true},"arrow-point-bI0wBh3Ufk-bottom-point-ytXK_ayIc1-top":{"to":"point-ytXK_ayIc1-top","from":"point-bI0wBh3Ufk-bottom","label":"Code Box","direction":"ft","selectable":true},"arrow-point-hyyRZE3E8u-right-point-6ZopTaEaDZ-left":{"to":"point-6ZopTaEaDZ-left","from":"point-hyyRZE3E8u-right","label":"call","direction":"ft","selectable":true}},"pointsMap":{"point-PSPLIYKa9J-top":{"x":805.9999797489683,"y":60,"id":"point-PSPLIYKa9J-top","direction":"top"},"point-ytXK_ayIc1-top":{"x":205.99999493724206,"y":60,"id":"point-ytXK_ayIc1-top","direction":"top"},"point-6ZopTaEaDZ-left":{"x":220,"y":605.9999898744841,"id":"point-6ZopTaEaDZ-left","direction":"left"},"point-hyyRZE3E8u-right":{"x":100,"y":606,"id":"point-hyyRZE3E8u-right","direction":"right"},"point-bI0wBh3Ufk-bottom":{"x":515.9999797489683,"y":-40,"id":"point-bI0wBh3Ufk-bottom","direction":"bottom"}},"edgesMap":{"edge-18JQxYSodo-18JQxYSodo-right-dysBL4uUFz-dysBL4uUFz-left":{"uid":"edge-18JQxYSodo-18JQxYSodo-right-dysBL4uUFz-dysBL4uUFz-left","fromNodeId":"18JQxYSodo","fromHandleId":"18JQxYSodo-right","toNodeId":"dysBL4uUFz","toHandleId":"dysBL4uUFz-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-RCI-xoY4rJ-RCI-xoY4rJ-right-18JQxYSodo-18JQxYSodo-left":{"uid":"edge-RCI-xoY4rJ-RCI-xoY4rJ-right-18JQxYSodo-18JQxYSodo-left","fromNodeId":"RCI-xoY4rJ","fromHandleId":"RCI-xoY4rJ-right","toNodeId":"18JQxYSodo","toHandleId":"18JQxYSodo-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-dysBL4uUFz-dysBL4uUFz-right-8thHHE1G5c-8thHHE1G5c-left":{"uid":"edge-dysBL4uUFz-dysBL4uUFz-right-8thHHE1G5c-8thHHE1G5c-left","fromNodeId":"dysBL4uUFz","fromHandleId":"dysBL4uUFz-right","toNodeId":"8thHHE1G5c","toHandleId":"8thHHE1G5c-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-dysBL4uUFz-dysBL4uUFz-right-T2FBmCrrG5-T2FBmCrrG5-left":{"uid":"edge-dysBL4uUFz-dysBL4uUFz-right-T2FBmCrrG5-T2FBmCrrG5-left","fromNodeId":"dysBL4uUFz","fromHandleId":"dysBL4uUFz-right","toNodeId":"T2FBmCrrG5","toHandleId":"T2FBmCrrG5-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}}}}}}